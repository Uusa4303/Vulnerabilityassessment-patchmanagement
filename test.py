import re
import subprocess 
target_ip="192.168.6.140"
def run_nmap_scan(target_ip):
    try:
        # Run Nmap scan using subprocess
        result = subprocess.run(['nmap', '-p-', '--open', target_ip],
                                capture_output=True, text=True)
    
    except FileNotFoundError:
        return "Nmap not found. Make sure Nmap is installed on your system."
        # Extract lines related to open ports
        open_ports_lines = re.findall(r'(\d+\/[a-zA-Z]+)\s+open', result.stdout)
        open_ports = "\n".join(open_ports_lines) if open_ports_lines else "No open ports found"
        return open_ports


nmap_result = run_nmap_scan(target_ip)

print(nmap_result)